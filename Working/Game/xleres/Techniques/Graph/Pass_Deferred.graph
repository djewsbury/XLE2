
import std = "xleres/Techniques/Graph/Pass_Standard.sh"
import gbuffer = "xleres/gbuffer.h"

auto deferred_pass_main(
    VSOutput geo,
    graph<std::EarlyRejectionTest> rejectionTest,
    graph<std::PerPixel> perPixel)
{
    /*if (rejectionTest(geo:geo).result) {
        discard;
    }*/

	node perPixelEval = perPixel(geo:geo);
    return gbuffer::Encode(values:perPixelEval.result).result;
}
